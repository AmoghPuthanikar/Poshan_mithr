{% extends "base.html" %}

{% block title %}Login - Poshan Mithr{% endblock %}

{% block content %}
<div class="row justify-content-center" style="min-height: 90vh; align-items: center; display: flex; position: relative;">
  <!-- Decorative Background Elements -->
  <div style="position: absolute; width: 500px; height: 500px; background: radial-gradient(circle, rgba(255,107,53,0.06) 0%, transparent 70%); border-radius: 50%; top: -150px; right: -100px; pointer-events: none;"></div>
  <div style="position: absolute; width: 400px; height: 400px; background: radial-gradient(circle, rgba(102,187,106,0.06) 0%, transparent 70%); border-radius: 50%; bottom: -100px; left: -100px; pointer-events: none;"></div>

  <div class="col-md-6 col-lg-5" style="position: relative; z-index: 1;">
    <div class="card shadow-lg login-card" style="border: none; overflow: hidden;">
      <!-- Header -->
      <div class="card-header login-header text-center" style="padding: 2rem 2rem;">
        <div class="logo-section" style="display:flex; align-items:center; justify-content:center; gap:0.75rem; margin-bottom:0.5rem;">
          <div class="logo-icon" style="width:42px; height:42px; background: rgba(255,255,255,0.15); border-radius:8px; display:flex; align-items:center; justify-content:center;">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="width:24px; height:24px; fill:white;">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
            </svg>
          </div>
          <h3 style="color:white; font-weight:700; margin:0;">Poshan Mithr</h3>
        </div>
        <p style="color: rgba(255,255,255,0.9); font-size:0.95rem; margin:0;">Built for Atmanirbhar Bharat</p>
      </div>

      <!-- Body -->
      <div class="card-body login-body p-4">
        {% if error %}
        <div class="alert" role="alert" style="display:flex; align-items:flex-start; gap:0.5rem; background:#fff5f5; border:1px solid #fed7d7; color:#c53030; border-radius:8px; margin-bottom:1.5rem;">
          <div class="alert-icon" style="flex-shrink:0; margin-top:0.125rem;">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm1 13H7v-2h2v2zm0-3H7V4h2v6z"/>
            </svg>
          </div>
          <div>
            <strong>Error:</strong> {{ error }}
          </div>
        </div>
        {% endif %}

        <form method="post" action="/login">
          <!-- Username -->
          <div class="form-group mb-3">
            <label for="username" class="form-label">Username</label>
            <div class="input-wrapper" style="position:relative;">
              <span class="input-icon" style="position:absolute; left:0.875rem; top:50%; transform:translateY(-50%); color:#a0aec0; pointer-events:none;">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="width:18px;height:18px; fill:currentColor;">
                  <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
              </span>
              <input type="text" class="form-control" id="username" name="username" placeholder="Enter username" required autofocus style="padding-left:2.75rem;">
            </div>
          </div>

          <!-- Password -->
          <div class="form-group mb-4">
            <label for="password" class="form-label">Password</label>
            <div class="input-wrapper" style="position:relative;">
              <span class="input-icon" style="position:absolute; left:0.875rem; top:50%; transform:translateY(-50%); color:#a0aec0; pointer-events:none;">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="width:18px;height:18px; fill:currentColor;">
                  <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                </svg>
              </span>
              <input type="password" class="form-control" id="password" name="password" placeholder="Enter password" required style="padding-left:2.75rem;">
            </div>
          </div>

          <button type="submit" class="btn btn-primary btn-lg w-100" style="padding:0.875rem; font-size:1rem; background:linear-gradient(135deg, #ff6b35 0%, #ff5722 100%); border:none; border-radius:8px;">
            Sign In
          </button>
        </form>
      </div>

      <!-- Footer -->
      <div class="card-footer login-footer text-center" style="background:#f7fafc; padding:1.5rem; border-top:1px solid #e2e8f0;">
        <strong style="display:block; margin-bottom:0.75rem;">Demo Credentials:</strong>
        <div class="credential-list" style="display:flex; flex-direction:column; gap:0.5rem;">
          <div class="credential-item" style="display:flex; justify-content:space-between; padding:0.5rem 0.75rem; background:white; border-radius:6px; border:1px solid #e2e8f0;">
            <span class="badge badge-admin" style="background:#ff6b35; color:white;">Admin</span>
            <span style="color:#4a5568; font-family:'Courier New', monospace;">admin / admin123</span>
          </div>
          <div class="credential-item" style="display:flex; justify-content:space-between; padding:0.5rem 0.75rem; background:white; border-radius:6px; border:1px solid #e2e8f0;">
            <span class="badge badge-authority" style="background:#66bb6a; color:white;">Headmaster</span>
            <span style="color:#4a5568; font-family:'Courier New', monospace;">head1 / pass123</span>
          </div>
          <div class="credential-item" style="display:flex; justify-content:space-between; padding:0.5rem 0.75rem; background:white; border-radius:6px; border:1px solid #e2e8f0;">
            <span class="badge badge-parent" style="background:#0891b2; color:white;">Parent</span>
            <span style="color:#4a5568; font-family:'Courier New', monospace;">user1 / pass123</span>
          </div>
        </div>
      </div>

      <div class="text-center mt-4" style="color:#718096; font-size:0.8125rem;">
        Â© 2025 Poshan Mithr - Empowering Nutrition, Enabling Growth
      </div>
    </div>
</div>

<style>
  .login-card { animation: fadeInUp 0.6s ease-out; }
  @keyframes fadeInUp { from { opacity:0; transform:translateY(30px); } to { opacity:1; transform:translateY(0); } }
  .form-control:focus { border-color:#ff6b35; box-shadow:0 0 0 3px rgba(255,107,53,0.08); }
</style>
{% endblock %}
