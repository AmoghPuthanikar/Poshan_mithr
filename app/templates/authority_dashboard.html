{% extends "base.html" %} {% block title %}Headmaster Dashboard{% endblock %} {%
block content %}
<div class="container">
  <div class="row mb-4">
    <div class="col-12">
      <h2>ğŸ« Headmaster Dashboard</h2>
      <p class="text-muted">
        Manage students and monitor nutrition in your school
      </p>
    </div>
  </div>

  <!-- Statistics Cards -->
  <div class="row mb-4">
    <div class="col-md-4">
      <div class="card bg-primary text-white">
        <div class="card-body text-center">
          <h2 class="mb-0">{{ classrooms | length }}</h2>
          <p class="mb-0">ğŸ›ï¸ Classrooms</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card bg-success text-white">
        <div class="card-body text-center">
          <h2 class="mb-0">{{ total_kids }}</h2>
          <p class="mb-0">ğŸ‘¨â€ğŸ“ Students</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card bg-info text-white">
        <div class="card-body text-center">
          <h2 class="mb-0">{{ classrooms | length + total_kids }}</h2>
          <p class="mb-0">ğŸ“Š Total Records</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="row">
    <!-- Quick Actions -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">âš¡ Quick Actions</h5>
        </div>
        <div class="card-body">
          <div class="d-grid gap-3">
            <a href="/authority/create-kid" class="btn btn-lg btn-primary">
              <span class="fs-4">ğŸ‘¶</span><br />
              <strong>Add New Student</strong><br />
              <small>Create student account with parent login</small>
            </a>
            <a
              href="/authority/create-classroom"
              class="btn btn-lg btn-success"
            >
              <span class="fs-4">ğŸ›ï¸</span><br />
              <strong>Create Classroom</strong><br />
              <small>Set up a new class or section</small>
            </a>
            <a
              href="/authority/nutrition-calculator"
              class="btn btn-lg btn-warning"
            >
              <span class="fs-4">ğŸ§®</span><br />
              <strong>Nutrition Calculator</strong><br />
              <small>Calculate BMI and generate diet plans</small>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- My Classrooms -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-success text-white">
          <h5 class="mb-0">ğŸ›ï¸ My Classrooms</h5>
        </div>
        <div class="card-body">
          {% if classrooms %}
          <div class="list-group">
            {% for classroom in classrooms %}
            <div
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <div>
                <h6 class="mb-1"><strong>{{ classroom.name }}</strong></h6>
                <small class="text-muted"
                  >Created: {{ classroom.created_at.strftime('%B %d, %Y')
                  }}</small
                >
              </div>
              <span class="badge bg-primary rounded-pill fs-6">
                {{ classroom.kids | length }} students
              </span>
            </div>
            {% endfor %}
          </div>
          {% else %}
          <div class="alert alert-info text-center">
            <h5>ğŸ“­ No Classrooms Yet</h5>
            <p>Start by creating your first classroom to organize students.</p>
            <a href="/authority/create-classroom" class="btn btn-primary mt-2">
              âœ¨ Create First Classroom
            </a>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <!-- Features Overview -->
  <div class="row mt-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h5 class="mb-0">âœ¨ Available Features</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <h6 class="text-primary">ğŸ‘¥ Student Management:</h6>
              <ul>
                <li>Create student accounts with parent login credentials</li>
                <li>Organize students into classrooms</li>
                <li>Track student enrollment and demographics</li>
              </ul>
            </div>
            <div class="col-md-6">
              <h6 class="text-success">ğŸ Nutrition Tracking:</h6>
              <ul>
                <li>Calculate BMI and nutrition status</li>
                <li>Generate personalized Indian diet recommendations</li>
                <li>Identify nutritional deficiencies</li>
              </ul>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <h6 class="text-warning">ğŸ“Š Health Monitoring:</h6>
              <ul>
                <li>Track student measurements over time</li>
                <li>Monitor underweight/overweight cases</li>
                <li>Generate health reports for parents</li>
              </ul>
            </div>
            <div class="col-md-6">
              <h6 class="text-info">ğŸ¤ Parent Engagement:</h6>
              <ul>
                <li>Automatic parent account creation</li>
                <li>Share nutrition reports with families</li>
                <li>Provide diet recommendations and tips</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Getting Started Guide -->
  {% if total_kids == 0 %}
  <div class="row mt-4">
    <div class="col-12">
      <div class="alert alert-success">
        <h5 class="alert-heading">ğŸš€ Getting Started Guide</h5>
        <hr />
        <ol class="mb-0">
          <li>
            <strong>Create Classrooms:</strong> Set up class structures (e.g.,
            Class 1A, Class 2B)
          </li>
          <li>
            <strong>Add Students:</strong> Register students with their parent
            login details
          </li>
          <li>
            <strong>Take Measurements:</strong> Use the nutrition calculator to
            record height/weight
          </li>
          <li>
            <strong>Share Results:</strong> Parents can view their child's
            health dashboard
          </li>
        </ol>
      </div>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}
